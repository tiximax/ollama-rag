<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UI/UX Demo - Ollama RAG</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; padding: 24px; background: #0f172a; color: #e2e8f0; }
    .container { max-width: 900px; margin: 0 auto; }
    h1 { margin-bottom: 12px; color: #3b82f6; }
    h2 { color: #60a5fa; margin-top: 32px; }
    .demo-section { background: #1e293b; border: 1px solid #334155; border-radius: 8px; padding: 20px; margin: 16px 0; }
    button { padding: 10px 14px; border-radius: 6px; border: 1px solid #334155; background: #1e293b; color: #e2e8f0; cursor: pointer; transition: all 0.2s; margin: 4px; }
    button:hover { background: #334155; transform: translateY(-1px); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); }
    button:active { transform: translateY(0); }
    input[type="text"] { padding: 10px; border-radius: 6px; border: 1px solid #334155; background: #0b1220; color: #e2e8f0; width: 300px; transition: all 0.2s; }
    input[type="text"]:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
    .code-block { background: #0b1220; border: 1px solid #334155; border-radius: 6px; padding: 12px; margin: 12px 0; font-family: monospace; overflow-x: auto; }
    .feature-list { list-style: none; padding: 0; }
    .feature-list li { padding: 8px 0; display: flex; align-items: center; }
    .feature-list li:before { content: "‚úì"; color: #10b981; font-weight: bold; margin-right: 8px; }
    .info-box { background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 12px; margin: 12px 0; border-radius: 4px; }
    .shortcut-key { background: #334155; padding: 4px 8px; border-radius: 4px; font-family: monospace; font-size: 12px; }

    /* Toast Styles (copied from styles.css) */
    .toast-container { position: fixed; top: 24px; right: 24px; z-index: 10000; display: flex; flex-direction: column; gap: 12px; pointer-events: none; }
    .toast { background: #1e293b; border: 1px solid #334155; border-radius: 8px; padding: 12px 16px; min-width: 300px; max-width: 400px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4); display: flex; align-items: center; gap: 12px; pointer-events: auto; animation: toast-slide-in 0.3s ease-out; }
    .toast.toast-exit { animation: toast-slide-out 0.3s ease-in forwards; }
    @keyframes toast-slide-in { from { transform: translateX(400px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    @keyframes toast-slide-out { from { transform: translateX(0); opacity: 1; } to { transform: translateX(400px); opacity: 0; } }
    .toast-icon { font-size: 20px; flex-shrink: 0; }
    .toast-message { flex: 1; color: #e2e8f0; font-size: 14px; line-height: 1.4; }
    .toast-close { background: none; border: none; color: #94a3b8; cursor: pointer; font-size: 18px; padding: 0; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; border-radius: 4px; transition: all 0.2s; }
    .toast-close:hover { background: #334155; color: #e2e8f0; }
    .toast.success { border-left: 4px solid #10b981; }
    .toast.error { border-left: 4px solid #ef4444; }
    .toast.warning { border-left: 4px solid #f59e0b; }
    .toast.info { border-left: 4px solid #3b82f6; }

    /* Loading Spinner */
    .spinner { display: inline-block; width: 14px; height: 14px; border: 2px solid rgba(59, 130, 246, 0.3); border-radius: 50%; border-top-color: #3b82f6; animation: spinner-rotate 0.6s linear infinite; margin-right: 6px; vertical-align: middle; }
    @keyframes spinner-rotate { to { transform: rotate(360deg); } }
    .loading-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(15, 23, 42, 0.8); display: flex; align-items: center; justify-content: center; z-index: 9999; backdrop-filter: blur(4px); }
    .loading-content { background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 24px 32px; display: flex; flex-direction: column; align-items: center; gap: 12px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5); }
    .loading-spinner-large { width: 48px; height: 48px; border: 4px solid rgba(59, 130, 246, 0.3); border-radius: 50%; border-top-color: #3b82f6; animation: spinner-rotate 0.8s linear infinite; }
    .loading-text { color: #cbd5e1; font-size: 14px; font-weight: 500; }

    @media (max-width: 768px) {
      body { padding: 12px; }
      .toast-container { right: 12px; left: 12px; }
      .toast { min-width: unset; max-width: 100%; }
      input[type="text"] { width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üé® UI/UX Improvements Demo</h1>
    <p>ƒê√¢y l√† demo c√°c c·∫£i ti·∫øn UI/UX trong Phase 3 c·ªßa Ollama RAG Application</p>

    <h2>1. üéØ Toast Notifications</h2>
    <div class="demo-section">
      <p>Thay th·∫ø alert() b·∫±ng toast notifications hi·ªán ƒë·∫°i:</p>
      <button onclick="showSuccessToast()">‚úÖ Success Toast</button>
      <button onclick="showErrorToast()">‚ùå Error Toast</button>
      <button onclick="showWarningToast()">‚ö†Ô∏è Warning Toast</button>
      <button onclick="showInfoToast()">‚ÑπÔ∏è Info Toast</button>
      
      <ul class="feature-list" style="margin-top: 16px;">
        <li>4 types: success, error, warning, info</li>
        <li>Auto-dismiss sau 4 gi√¢y</li>
        <li>Manual close button</li>
        <li>Smooth animations</li>
        <li>Stack support</li>
      </ul>
    </div>

    <h2>2. ‚è≥ Loading Indicators</h2>
    <div class="demo-section">
      <p><strong>Inline Button Spinner:</strong></p>
      <button id="demo-btn" onclick="showButtonLoading()">Click ƒë·ªÉ xem loading</button>
      
      <p style="margin-top: 20px;"><strong>Full-Screen Overlay:</strong></p>
      <button onclick="showLoadingOverlay()">Show Loading Overlay</button>
      
      <ul class="feature-list" style="margin-top: 16px;">
        <li>Button disabled during operation</li>
        <li>Spinner + original text</li>
        <li>Full-screen overlay v·ªõi blur backdrop</li>
        <li>Customizable loading text</li>
      </ul>
    </div>

    <h2>3. ‚å®Ô∏è Keyboard Shortcuts</h2>
    <div class="demo-section">
      <p>Th·ª≠ c√°c shortcuts sau:</p>
      <div class="code-block">
        <div><span class="shortcut-key">Ctrl/Cmd + Enter</span> - Submit query (khi focus v√†o input)</div>
        <div style="margin-top: 8px;"><span class="shortcut-key">Escape</span> - Clear results</div>
        <div style="margin-top: 8px;"><span class="shortcut-key">Ctrl/Cmd + K</span> - Focus search input</div>
      </div>
      
      <p style="margin-top: 16px;">Test input (focus v√†o ƒë√¢y v√† nh·∫•n Ctrl+Enter):</p>
      <input type="text" id="test-input" placeholder="Nh·∫≠p text v√† nh·∫•n Ctrl+Enter..." />
      <div id="shortcut-result" style="margin-top: 12px; color: #10b981;"></div>
    </div>

    <h2>4. üì± Responsive Design</h2>
    <div class="demo-section">
      <p>Resize browser window ƒë·ªÉ xem responsive behavior:</p>
      <ul class="feature-list">
        <li>Mobile-friendly layout (< 768px)</li>
        <li>Buttons stack vertically tr√™n mobile</li>
        <li>Toast notifications adapt to screen size</li>
        <li>Touch-friendly tap targets</li>
      </ul>
      <div class="info-box">
        üí° Tip: M·ªü DevTools (F12) v√† toggle device toolbar ƒë·ªÉ test responsive design
      </div>
    </div>

    <h2>5. üé® Visual Improvements</h2>
    <div class="demo-section">
      <p><strong>Button States:</strong></p>
      <button>Hover over me!</button>
      <button disabled>Disabled button</button>
      
      <p style="margin-top: 16px;"><strong>Focus States:</strong></p>
      <input type="text" placeholder="Click to focus and see border..." />
      
      <ul class="feature-list" style="margin-top: 16px;">
        <li>Hover: lift effect + shadow</li>
        <li>Active: press effect</li>
        <li>Focus: blue border with shadow</li>
        <li>Smooth 200ms transitions</li>
      </ul>
    </div>

    <h2>üìä Summary</h2>
    <div class="demo-section">
      <div class="code-block">
        <strong>Phase 3 Achievements:</strong><br><br>
        ‚úÖ Toast Notification System<br>
        ‚úÖ Loading Spinners & Overlay<br>
        ‚úÖ Responsive Design<br>
        ‚úÖ Keyboard Shortcuts<br>
        ‚úÖ Visual Improvements<br>
        ‚úÖ 72 Unit Tests (100% coverage)<br>
        ‚úÖ Constants Module<br>
      </div>
    </div>
  </div>

  <script>
    // Toast Manager
    const ToastManager = {
      container: null,
      
      init() {
        if (!this.container) {
          this.container = document.createElement('div');
          this.container.className = 'toast-container';
          document.body.appendChild(this.container);
        }
      },
      
      show(message, type = 'info', duration = 4000) {
        this.init();
        
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        
        const icon = this._getIcon(type);
        const iconEl = document.createElement('span');
        iconEl.className = 'toast-icon';
        iconEl.textContent = icon;
        
        const messageEl = document.createElement('div');
        messageEl.className = 'toast-message';
        messageEl.textContent = message;
        
        const closeBtn = document.createElement('button');
        closeBtn.className = 'toast-close';
        closeBtn.textContent = '√ó';
        closeBtn.onclick = () => this.remove(toast);
        
        toast.appendChild(iconEl);
        toast.appendChild(messageEl);
        toast.appendChild(closeBtn);
        
        this.container.appendChild(toast);
        
        if (duration > 0) {
          setTimeout(() => this.remove(toast), duration);
        }
        
        return toast;
      },
      
      remove(toast) {
        toast.classList.add('toast-exit');
        setTimeout(() => {
          if (toast.parentNode) {
            toast.parentNode.removeChild(toast);
          }
        }, 300);
      },
      
      success(message, duration) { return this.show(message, 'success', duration); },
      error(message, duration) { return this.show(message, 'error', duration); },
      warning(message, duration) { return this.show(message, 'warning', duration); },
      info(message, duration) { return this.show(message, 'info', duration); },
      
      _getIcon(type) {
        const icons = { success: '‚úÖ', error: '‚ùå', warning: '‚ö†Ô∏è', info: '‚ÑπÔ∏è' };
        return icons[type] || icons.info;
      }
    };

    // Loading Overlay
    const LoadingOverlay = {
      overlay: null,
      
      show(text = 'ƒêang x·ª≠ l√Ω...') {
        if (!this.overlay) {
          this.overlay = document.createElement('div');
          this.overlay.className = 'loading-overlay';
          
          const content = document.createElement('div');
          content.className = 'loading-content';
          
          const spinner = document.createElement('div');
          spinner.className = 'loading-spinner-large';
          
          const textEl = document.createElement('div');
          textEl.className = 'loading-text';
          textEl.textContent = text;
          
          content.appendChild(spinner);
          content.appendChild(textEl);
          this.overlay.appendChild(content);
        }
        
        document.body.appendChild(this.overlay);
      },
      
      hide() {
        if (this.overlay && this.overlay.parentNode) {
          this.overlay.parentNode.removeChild(this.overlay);
        }
      }
    };

    // Demo Functions
    function showSuccessToast() {
      ToastManager.success('Upload th√†nh c√¥ng! 3 files ƒë√£ ƒë∆∞·ª£c index.');
    }

    function showErrorToast() {
      ToastManager.error('L·ªói k·∫øt n·ªëi server. Vui l√≤ng th·ª≠ l·∫°i.');
    }

    function showWarningToast() {
      ToastManager.warning('Ch∆∞a ch·ªçn database. H√£y ch·ªçn ho·∫∑c t·∫°o m·ªõi.');
    }

    function showInfoToast() {
      ToastManager.info('ƒê√£ index 127 chunks t·ª´ 5 documents.');
    }

    function showButtonLoading() {
      const btn = document.getElementById('demo-btn');
      const originalText = btn.textContent;
      btn.disabled = true;
      btn.innerHTML = '<span class="spinner"></span> Loading...';
      
      setTimeout(() => {
        btn.disabled = false;
        btn.textContent = originalText;
        ToastManager.success('Operation completed!');
      }, 2000);
    }

    function showLoadingOverlay() {
      LoadingOverlay.show('ƒêang index t√†i li·ªáu...');
      setTimeout(() => {
        LoadingOverlay.hide();
        ToastManager.success('Index ho√†n t·∫•t! 250 chunks ƒë√£ ƒë∆∞·ª£c t·∫°o.');
      }, 3000);
    }

    // Keyboard Shortcuts
    document.addEventListener('keydown', (e) => {
      const testInput = document.getElementById('test-input');
      const result = document.getElementById('shortcut-result');
      
      // Ctrl/Cmd + Enter
      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        if (document.activeElement === testInput) {
          e.preventDefault();
          result.textContent = '‚úÖ Ctrl+Enter pressed! Query submitted.';
          ToastManager.success('Query submitted: ' + testInput.value);
        }
      }
      
      // Escape
      if (e.key === 'Escape') {
        result.textContent = '‚úÖ Escape pressed! Results cleared.';
        testInput.value = '';
      }
      
      // Ctrl/Cmd + K
      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
        e.preventDefault();
        testInput.focus();
        result.textContent = '‚úÖ Ctrl+K pressed! Search focused.';
      }
    });
  </script>
</body>
</html>
